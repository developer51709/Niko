import discord
from discord.ext import commands
import aiohttp
import asyncio
import random
import os

class RedditCog(commands.Cog):
    def __init__(self, bot):
        self.bot = bot
        self.client_id = os.getenv("REDDIT_CLIENT_ID")
        self.client_secret = os.getenv("REDDIT_CLIENT_SECRET")
        self.user_agent = "Niko/1.0 by Nyxen"
        self.token = None

    async def get_token(self):
        """Fetch OAuth token from Reddit."""
        if self.token:
            return self.token

        auth = aiohttp.BasicAuth(self.client_id, self.client_secret)

        async with aiohttp.ClientSession() as session:
            async with session.post(
                "https://www.reddit.com/api/v1/access_token",
                data={"grant_type": "client_credentials"},
                headers={"User-Agent": self.user_agent},
                auth=auth
            ) as r:
                data = await r.json()
                self.token = data["access_token"]
                return self.token

    async def fetch_subreddit(self, subreddit):
        """Fetch subreddit posts using OAuth."""
        token = await self.get_token()

        headers = {
            "Authorization": f"bearer {token}",
            "User-Agent": self.user_agent
        }

        url = f"https://oauth.reddit.com/r/{subreddit}/new?limit=50"

        async with aiohttp.ClientSession() as session:
            async with session.get(url, headers=headers) as r:
                if r.status != 200:
                    return None
                return await r.json()

    # -----------------------------
    # Reddit Command
    # -----------------------------
    @commands.command()
    async def reddit(self, ctx, subreddit: str):
        """Fetch a random post from a subreddit."""

        # List of NSFW subreddits you want to restrict
        nsfw_list = ['nsfw', 'nudes', 'ass', 'rule34', 'boobs', 'gonewild', 'RealGirls', 'hentai', 'NSFW411', 'WorldPacks', 'celebnsfw', 'AsiansGoneWild', 'collegesluts', 'PetiteGoneWild', 'cumsluts', 'BustyPetite', 'LegalTeens', 'adorableporn', 'gonewildstories', 'WatchItForThePlot', 'gonewildaudio', 'tipofmypenis', 'BreedingMaterial', 'traps', 'nsfwasmr', 'JizzedToThis', 'Cuckold', 'onlyfansgirls101', 'milf', 'porn', 'tiktoknsfw', 'pussy', 'GirlsFinishingTheJob', 'worldpolitics', 'TikThots', 'SluttyConfessions', 'AskRedditAfterDark', 'JerkOffToCelebs', 'TittyDrop', 'gonewild30plus', 'holdthemoan', 'intermittentfasting', 'OnOff', 'OnlyFans101', 'BiggerThanYouThought', 'HotWife', 'Blowjobs', 'GWCouples', 'LEAKEDonlyfans', 'kpopfap', 'NSFWFunny', 'HENTAI_GIF', 'Nude_Selfie', 'nsfw_gifs', 'NaughtyWives', 'porninfifteenseconds', 'StreamersGoneWild', 'Yagamiyato', 'futanari', 'joi', 'homemadexxx', 'tiktokporn', 'pawg', 'Nudes', 'MorbidReality', 'MassiveCocks', 'AsianHotties', 'TwitchGoneWild', 'anal', 'Gonewild18', 'juicyasians', 'TinyTits', 'youtubetitties', '18_19', 'TikTokNude', 'BigBoobsGW', 'bigasses', 'GodPussy', 'NSFWverifiedamateur', 'lewdgames', '18nsfw', 'TooCuteForPorn', 'trashyboners', 'sex_comics', 'OnlyfansPacks', 'palegirls', 'xsmallgirls', 'sissyhypno', 'Amateur', 'FemBoys', 'chubby', 'nhentai', 'fitgirls', 'pornvids', 'freeuse', 'asshole', 'GoneMild', 'YouTubersGoneWild', 'curvy', 'traphentai', 'Stacke', 'Sissies', 'workgonewild', 'nsfwcyoa', 'bodyperfection', 'doujinshi', 'yiff', 'Slut', 'The_Best_NSFW_GIFS', 'Rule34LoL', 'BDSMcommunity', 'stupidslutsclub', 'OnlyFansPromotions', 'nsfwhardcore', 'bdsm', 'NSFWgaming', 'gonewildcouples', 'bigtiddygothgf', 'Upskirt', 'asstastic', 'RealAhegao', 'GaybrosGoneWild', 'ElleKnox', 'nsfwcosplay', 'hugeboobs', 'HoneySelect', 'gwcumsluts', 'NSFW_Korea', 'assholegonewild', 'YoungPrettyHoes', 'WouldYouFuckMyWife', 'paag', 'CuteLittleButts', 'transformation', 'GermanCelebritiesFAP', 'UnderwearGW', 'Tgirls', 'lesbians', 'amateurcumsluts', 'thick', 'normalnudes', 'IncestComics', 'DiscordNudes', 'cursedimages', 'HentaiBeast', 'LabiaGW', 'grool', 'Onlyfanspromoss', 'SexToys', 'dirtypenpals', 'wholesomehentai', 'girlsinyogapants', 'latinas', 'dirtyr4', 'czskhoes', 'GenshinImpactNSFW', 'redgifs', 'SexWorkers', 'eyebleach', 'Bondage', 'Ebony', 'LipsThatGrip', 'deepthroat', 'RateMyNudeBody', 'gaystoriesgonewild', 'twinks', 'Exxxtras', 'MonsterGirl', 'thighdeology', 'gwpublic', 'BDSMGW', 'HairyPussy', 'GoneWildTrans', 'PLASTT', 'BBW', 'ladybonersgw', 'Freealbum4u', 'dirtysmall', 'Overwatch_Porn', 'StreetsIsWatchin', 'AnalGW', 'needysluts', 'IndiansGoneWild', 'ratemycock', 'Onlyfans_Promo', 'DMT', 'cleavage', 'ProgressiveGrowth', 'wifesharing', 'CollegeAmateurs', 'burstingout', 'bimbofetish', 'ButtsAndBareFeet', 'MedicalGore', 'VAMscenes', 'extramile', 'amateurgirlsbigcocks', 'FitNakedGirls', 'darkjokes', 'FunWithFriends', 'StraightGirlsPlaying', 'penis', 'hentaicaptions', 'cumfetish', 'altgonewild', 'SheLikesItRough', 'ecchi', 'homegrowntits', 'HugeDickTinyChick', 'SexInFrontOfOthers', 'GirlswithGlasses', 'couplegonewild', 'buttplug', 'RPDRDRAMA', 'gettingherselfoff', 'Hololewd', 'damngoodinterracial', 'Femdom', 'NSFWRare', 'MsPuiYi', 'SexyTummies', 'gonewildcolor', 'gentlefemdom', 'hentaimemes', 'Slutblonde', 'IWantToSuckCock', 'ginger', 'BBCSluts', 'Omeglesex', 'DKCelebs', 'quiver', 'rule34_comics', 'feet', 'IndianBabes', 'chickflixxx', 'FestivalSluts', 'creampies', 'hardbodies', 'PreggoPorn', '40plusGoneWild', 'BadDragon', 'CamSluts', 'Swingersgw', 'Stuffers', 'sexstories', 'Slutsofonlyfans', 'Tomxcontents', 'theratio', 'chastity', 'DegradingHoles','Sexy','NSfw', 'nuDeS', 'aSs', 'rULE34', 'BOoBS', 'goneWiLD', 'reaLgIrLS', 'HeNtAI', 'nsfw411', 'WoRldPaCkS', 'ceLEbnsFW', 'AsIAnSgOnewild', 'CoLlegesluTS', 'pETitEgOnewiLd', 'CUmslUTS', 'BUStYpeTiTE', 'LegalTeeNs', 'ADORaBLEPoRn', 'gonEwILdstORiEs', 'wATchITforTheplOt', 'GOnEwIlDaUDIO', 'tipOfMYpeNIs', 'BReEdIngMATERIAL', 'TRAPs', 'NsFwaSMR', 'jizZeDtothIS', 'CUCKOLd', 'onLyFANSGiRLs101', 'MiLF', 'PORN', 'tIKTOKnSfW', 'puSSY', 'GIrLSFInISHiNGTheJOb', 'WorLDpoLItics', 'TiKtHotS', 'slutTyCONFESSiOnS', 'aSkReDDiTAFTerdARK', 'jeRkOFFtoCeLebs', 'TitTydrOp', 'GOnEwIld30pLuS', 'HoldtHemOAN', 'intermITTENtfaStING', 'onoff', 'onLYFaNs101', 'BIGgERthanyOuTHouGHT', 'hOTwife', 'BLowjoBs', 'gWCouPlES', 'leakedoNlyfans', 'KpoPfAp', 'NsfWFUnNy', 'HEnTai_gIf', 'NUDE_sElfiE', 'NSFW_gIfS', 'nAugHtywivES', 'pornInfiFtEENSeconDS', 'StREAMeRSGoNEWILd', 'YaGAMIyAtO', 'futANArI', 'joI', 'hOMeMadeXxX', 'tiKTokpOrN', 'PaWG', 'nudes', 'MoRbiDREALIty', 'MaSsIVECocKS', 'aSIANHottiES', 'tWitChGONewiLd', 'AnAl', 'gOnEwiLD18', 'JUICYaSiaNS', 'TiNytItS', 'YoutubetIttiEs', '18_19', 'tIKTOknuDE', 'bIGBooBsgw', 'BiGaSSes', 'godPuSsY', 'NSFwVeriFiedAMaTEUR', 'lEwDGaMes', '18NSFw', 'toOcUtEFORPOrN', 'tRAshyBoNerS', 'seX_COMicS', 'onLYfAnSpACkS', 'PalegIRLs', 'XSMAllgIRLS', 'SISSYhYPno', 'amATEUr', 'fEmBoYs', 'chUbBy', 'NheNtai', 'FitgIRlS', 'PoRnViDs', 'FReeuse', 'ASshoLE', 'GOnemIld', 'yoUtubErSgonEWIld', 'CURVY', 'TrAPhEntAi', 'STacKE', 'sIssIES', 'wOrkGonEwilD', 'nsFwcYoA', 'bODYPerFectIon', 'doUJiNShi', 'yIfF', 'SLUt', 'THE_best_nsFW_GiFS', 'rULE34lol', 'BdSmcomMuNity', 'StupIdSlutSClUb', 'onlyFAnSpRoMOTiONs', 'nSfWhArdCORE', 'bdSM', 'nsfWgaMINg', 'GoneWilDCOuPlEs', 'BIGTiddyGothgF', 'uPSkirT', 'ASsTasTIC', 'reaLahEGAo', 'gAYBroSgONeWild', 'ELLEknoX', 'NsfwcOsPLAY', 'HugEbOOBS', 'HONEySeLeCt', 'gwcUMslUts', 'NSFW_KOrea', 'AsShOLEGONeWIld', 'yOUngpRETTYhOEs', 'WoulDyoufUCKmYwife', 'Paag', 'cUtELitTLebutts', 'TRANSfoRmatIon', 'GERMancELebrItiEsFap', 'UNdErWeARgw', 'TGiRlS', 'LESBiANS', 'AMaTEurcuMsLuTS', 'THicK', 'NormALNudES', 'incESTCOmicS', 'DIScorDnUdeS', 'CursedIMAGEs', 'HENtaIbEAST', 'LAbIagW', 'grool', 'OnLyFansProMoSs', 'SEXtoYs', 'dIRtypeNPals', 'WHoLESomeheNtaI', 'girLSINyoGapaNtS', 'laTINAS', 'DiRTyr4', 'czSkhOes', 'GenSHInIMpactnSfW', 'ReDGifs', 'sExwoRKers', 'EyeblEAch', 'bonDaGE', 'eBOny', 'liPstHATGRIP', 'dEePTHroat', 'raTEMyNUDEBOdY', 'GaYSToRIESgoNewILD', 'tWINks', 'eXxxtras', 'moNsTERgIrL', 'thighDeOlOgy', 'gWpUBlIc', 'bdsmGW', 'haIRyPusSy', 'gOnEwildtRAnS', 'PlasTT', 'Bbw', 'LaDyboNERsGw', 'FReealbuM4u', 'DIRTySmAlL', 'OVErWaTCh_pOrN', 'StreeTsISwAtChiN', 'AnAlGw', 'NEedYSLuTs', 'INdiANsgOnEwILD', 'rateMYcock', 'onLYfAnS_proMO', 'DmT', 'CLeAvAgE', 'pRoGrEsSIVEGrOwth', 'WifESHARING', 'coLLegeaMATEUrs', 'bURSTInGoUt', 'biMboFeTiSH', 'ButTSANdBAReFEET', 'meDicaLgORe', 'VAmsCeNeS', 'eXtRAMILe', 'amATEurGirLSbiGcOcks', 'FITNakeDGIrlS', 'dARkjokes', 'FUNwitHfrienDs', 'StRaIGHtGirlsPlAyING', 'PENis', 'HENtaICAPTioNS', 'CUmFEtiSh', 'AlTGONEwiLd', 'ShELiKeSitrOugh', 'ECcHi', 'HoMeGRoWNtits', 'hugEDicKTiNYChICK', 'sexInFrontofOTHeRs', 'girLSwITHglAsses', 'cOUpleGonEWild', 'bUTTpLuG', 'rPDRDRAMA', 'geTtInGhersElfoFf', 'HololewD', 'daMnGoOdIntErRAciaL', 'FeMdoM', 'NsFWrare', 'MsPuiyI', 'SeXYtumMIes', 'goNewiLDColor', 'GEnTlefEmDoM', 'HENTAIMEMES', 'SlutbLoNdE', 'IWAnTtOSUcKCocK', 'GingeR', 'BBCSLUTS', 'OmEGLeseX', 'dKceLEbs', 'QUIVeR', 'RuLe34_cOmiCS', 'FEet', 'inDIaNbAbEs', 'cHiCkFLiXXX', 'FEstiValSLutS', 'CREampIES', 'HARDbODIes', 'pREGGOpOrN', '40PlUsgONewILd', 'BADdraGon', 'CAMSLuts', 'SWIngERsgW', 'stUFFerS', 'SeXsToRIes', 'SLuTSOFOnLyFaNs', 'TOmXcontEnts', 'theraTIO', 'ChAStitY', 'NSFW', 'NUDES', 'ASS', 'RULE34', 'BOOBS', 'GONEWILD', 'REALGIRLS', 'HENTAI', 'NSFW411', 'WORLDPACKS', 'CELEBNSFW', 'ASIANSGONEWILD', 'COLLEGESLUTS', 'PETITEGONEWILD', 'CUMSLUTS', 'BUSTYPETITE', 'LEGALTEENS', 'ADORABLEPORN', 'GONEWILDSTORIES', 'WATCHITFORTHEPLOT', 'GONEWILDAUDIO', 'TIPOFMYPENIS', 'BREEDINGMATERIAL', 'TRAPS', 'NSFWASMR', 'JIZZEDTOTHIS', 'CUCKOLD', 'ONLYFANSGIRLS101', 'MILF', 'PORN', 'TIKTOKNSFW', 'PUSSY', 'GIRLSFINISHINGTHEJOB', 'WORLDPOLITICS', 'TIKTHOTS', 'SLUTTYCONFESSIONS', 'ASKREDDITAFTERDARK', 'JERKOFFTOCELEBS', 'TITTYDROP', 'GONEWILD30PLUS', 'HOLDTHEMOAN', 'INTERMITTENTFASTING', 'ONOFF', 'ONLYFANS101', 'BIGGERTHANYOUTHOUGHT', 'HOTWIFE', 'BLOWJOBS', 'GWCOUPLES', 'LEAKEDONLYFANS', 'KPOPFAP', 'NSFWFUNNY', 'HENTAI_GIF', 'NUDE_SELFIE', 'NSFW_GIFS', 'NAUGHTYWIVES', 'PORNINFIFTEENSECONDS', 'STREAMERSGONEWILD', 'YAGAMIYATO', 'FUTANARI', 'JOI', 'HOMEMADEXXX', 'TIKTOKPORN', 'PAWG', 'NUDES', 'MORBIDREALITY', 'MASSIVECOCKS', 'ASIANHOTTIES', 'TWITCHGONEWILD', 'ANAL', 'GONEWILD18', 'JUICYASIANS', 'TINYTITS', 'YOUTUBETITTIES', '18_19', 'TIKTOKNUDE', 'BIGBOOBSGW', 'BIGASSES', 'GODPUSSY', 'NSFWVERIFIEDAMATEUR', 'LEWDGAMES', '18NSFW', 'TOOCUTEFORPORN', 'TRASHYBONERS', 'SEX_COMICS', 'ONLYFANSPACKS', 'PALEGIRLS', 'XSMALLGIRLS', 'SISSYHYPNO', 'AMATEUR', 'FEMBOYS', 'CHUBBY', 'NHENTAI', 'FITGIRLS', 'PORNVIDS', 'FREEUSE', 'ASSHOLE', 'GONEMILD', 'YOUTUBERSGONEWILD', 'CURVY', 'TRAPHENTAI', 'STACKE', 'SISSIES', 'WORKGONEWILD', 'NSFWCYOA', 'BODYPERFECTION', 'DOUJINSHI', 'YIFF', 'SLUT', 'THE_BEST_NSFW_GIFS', 'RULE34LOL', 'BDSMCOMMUNITY', 'STUPIDSLUTSCLUB', 'ONLYFANSPROMOTIONS', 'NSFWHARDCORE', 'BDSM', 'NSFWGAMING', 'GONEWILDCOUPLES', 'BIGTIDDYGOTHGF', 'UPSKIRT', 'ASSTASTIC', 'REALAHEGAO', 'GAYBROSGONEWILD', 'ELLEKNOX', 'NSFWCOSPLAY', 'HUGEBOOBS', 'HONEYSELECT', 'GWCUMSLUTS', 'NSFW_KOREA', 'ASSHOLEGONEWILD', 'YOUNGPRETTYHOES', 'WOULDYOUFUCKMYWIFE', 'PAAG', 'CUTELITTLEBUTTS', 'TRANSFORMATION', 'GERMANCELEBRITIESFAP', 'UNDERWEARGW', 'TGIRLS', 'LESBIANS', 'AMATEURCUMSLUTS', 'THICK', 'NORMALNUDES', 'INCESTCOMICS', 'DISCORDNUDES', 'CURSEDIMAGES', 'HENTAIBEAST', 'LABIAGW', 'GROOL', 'ONLYFANSPROMOSS', 'SEXTOYS', 'DIRTYPENPALS', 'WHOLESOMEHENTAI', 'GIRLSINYOGAPANTS', 'LATINAS', 'DIRTYR4', 'CZSKHOES', 'GENSHINIMPACTNSFW', 'REDGIFS', 'SEXWORKERS', 'EYEBLEACH', 'BONDAGE', 'EBONY', 'LIPSTHATGRIP', 'DEEPTHROAT', 'RATEMYNUDEBODY', 'GAYSTORIESGONEWILD', 'TWINKS', 'EXXXTRAS', 'MONSTERGIRL', 'THIGHDEOLOGY', 'GWPUBLIC', 'BDSMGW', 'HAIRYPUSSY', 'GONEWILDTRANS', 'PLASTT', 'BBW', 'LADYBONERSGW', 'FREEALBUM4U', 'DIRTYSMALL', 'OVERWATCH_PORN', 'STREETSISWATCHIN', 'ANALGW', 'NEEDYSLUTS', 'INDIANSGONEWILD', 'RATEMYCOCK', 'ONLYFANS_PROMO', 'DMT', 'CLEAVAGE', 'PROGRESSIVEGROWTH', 'WIFESHARING', 'COLLEGEAMATEURS', 'BURSTINGOUT', 'BIMBOFETISH', 'BUTTSANDBAREFEET', 'MEDICALGORE', 'VAMSCENES', 'EXTRAMILE', 'AMATEURGIRLSBIGCOCKS', 'FITNAKEDGIRLS', 'DARKJOKES', 'FUNWITHFRIENDS', 'STRAIGHTGIRLSPLAYING', 'PENIS', 'HENTAICAPTIONS', 'CUMFETISH', 'ALTGONEWILD', 'SHELIKESITROUGH', 'ECCHI', 'HOMEGROWNTITS', 'HUGEDICKTINYCHICK', 'SEXINFRONTOFOTHERS', 'GIRLSWITHGLASSES', 'COUPLEGONEWILD', 'BUTTPLUG', 'RPDRDRAMA', 'GETTINGHERSELFOFF', 'HOLOLEWD', 'DAMNGOODINTERRACIAL', 'FEMDOM', 'NSFWRARE', 'MSPUIYI', 'SEXYTUMMIES', 'GONEWILDCOLOR', 'GENTLEFEMDOM', 'HENTAIMEMES', 'SLUTBLONDE', 'IWANTTOSUCKCOCK', 'GINGER', 'BBCSLUTS', 'OMEGLESEX', 'DKCELEBS', 'QUIVER', 'RULE34_COMICS', 'FEET', 'INDIANBABES', 'CHICKFLIXXX', 'FESTIVALSLUTS', 'CREAMPIES', 'HARDBODIES', 'PREGGOPORN', '40PLUSGONEWILD', 'BADDRAGON', 'CAMSLUTS', 'SWINGERSGW', 'STUFFERS', 'SEXSTORIES', 'SLUTSOFONLYFANS', 'TOMXCONTENTS', 'THERATIO', 'CHASTITY', 'DEGRADINGHOLES','SEXY', 'nsfw', 'nudes', 'ass', 'rule34', 'boobs', 'gonewild', 'realgirls', 'hentai', 'nsfw411', 'worldpacks', 'celebnsfw', 'asiansgonewild', 'collegesluts', 'petitegonewild', 'cumsluts', 'bustypetite', 'legalteens', 'adorableporn', 'gonewildstories', 'watchitfortheplot', 'gonewildaudio', 'tipofmypenis', 'breedingmaterial', 'traps', 'nsfwasmr', 'jizzedtothis', 'cuckold', 'onlyfansgirls101', 'milf', 'porn', 'tiktoknsfw', 'pussy', 'girlsfinishingthejob', 'worldpolitics', 'tikthots', 'sluttyconfessions', 'askredditafterdark', 'jerkofftocelebs', 'tittydrop', 'gonewild30plus', 'holdthemoan', 'intermittentfasting', 'onoff', 'onlyfans101', 'biggerthanyouthought', 'hotwife', 'blowjobs', 'gwcouples', 'leakedonlyfans', 'kpopfap', 'nsfwfunny', 'hentai_gif', 'nude_selfie', 'nsfw_gifs', 'naughtywives', 'porninfifteenseconds', 'streamersgonewild', 'yagamiyato', 'futanari', 'joi', 'homemadexxx', 'tiktokporn', 'pawg', 'nudes', 'morbidreality', 'massivecocks', 'asianhotties', 'twitchgonewild', 'anal', 'gonewild18', 'juicyasians', 'tinytits', 'youtubetitties', '18_19', 'tiktoknude', 'bigboobsgw', 'bigasses', 'godpussy', 'nsfwverifiedamateur', 'lewdgames', '18nsfw', 'toocuteforporn', 'trashyboners', 'sex_comics', 'onlyfanspacks', 'palegirls', 'xsmallgirls', 'sissyhypno', 'amateur', 'femboys', 'chubby', 'nhentai', 'fitgirls', 'pornvids', 'freeuse', 'asshole', 'gonemild', 'youtubersgonewild', 'curvy', 'traphentai', 'stacke', 'sissies', 'workgonewild', 'nsfwcyoa', 'bodyperfection', 'doujinshi', 'yiff', 'slut', 'the_best_nsfw_gifs', 'rule34lol', 'bdsmcommunity', 'stupidslutsclub', 'onlyfanspromotions', 'nsfwhardcore', 'bdsm', 'nsfwgaming', 'gonewildcouples', 'bigtiddygothgf', 'upskirt', 'asstastic', 'realahegao', 'gaybrosgonewild', 'elleknox', 'nsfwcosplay', 'hugeboobs', 'honeyselect', 'gwcumsluts', 'nsfw_korea', 'assholegonewild', 'youngprettyhoes', 'wouldyoufuckmywife', 'paag', 'cutelittlebutts', 'transformation', 'germancelebritiesfap', 'underweargw', 'tgirls', 'lesbians', 'amateurcumsluts', 'thick', 'normalnudes', 'incestcomics', 'discordnudes', 'cursedimages', 'hentaibeast', 'labiagw', 'grool', 'onlyfanspromoss', 'sextoys', 'dirtypenpals', 'wholesomehentai', 'girlsinyogapants', 'latinas', 'dirtyr4', 'czskhoes', 'genshinimpactnsfw', 'redgifs', 'sexworkers', 'eyebleach', 'bondage', 'ebony', 'lipsthatgrip', 'deepthroat', 'ratemynudebody', 'gaystoriesgonewild', 'twinks', 'exxxtras', 'monstergirl', 'thighdeology', 'gwpublic', 'bdsmgw', 'hairypussy', 'gonewildtrans', 'plastt', 'bbw', 'ladybonersgw', 'freealbum4u', 'dirtysmall', 'overwatch_porn', 'streetsiswatchin', 'analgw', 'needysluts', 'indiansgonewild', 'ratemycock', 'onlyfans_promo', 'dmt', 'cleavage', 'progressivegrowth', 'wifesharing', 'collegeamateurs', 'burstingout', 'bimbofetish', 'buttsandbarefeet', 'medicalgore', 'vamscenes', 'extramile', 'amateurgirlsbigcocks', 'fitnakedgirls', 'darkjokes', 'funwithfriends', 'straightgirlsplaying', 'penis', 'hentaicaptions', 'cumfetish', 'altgonewild', 'shelikesitrough', 'ecchi', 'homegrowntits', 'hugedicktinychick', 'sexinfrontofothers', 'girlswithglasses', 'couplegonewild', 'buttplug', 'rpdrdrama', 'gettingherselfoff', 'hololewd', 'damngoodinterracial', 'femdom', 'nsfwrare', 'mspuiyi', 'sexytummies', 'gonewildcolor', 'gentlefemdom', 'hentaimemes', 'slutblonde', 'iwanttosuckcock', 'ginger', 'bbcsluts', 'omeglesex', 'dkcelebs', 'quiver', 'rule34_comics', 'feet', 'indianbabes', 'chickflixxx', 'festivalsluts', 'creampies', 'hardbodies', 'preggoporn', '40plusgonewild', 'baddragon', 'camsluts', 'swingersgw', 'stuffers', 'sexstories', 'slutsofonlyfans', 'tomxcontents', 'theratio', 'chastity', 'degradingholes','sexy', 'nSFw', 'nUdes', 'asS', 'rulE34', 'BOoBs', 'gOnewild', 'rEALGirls', 'HeNTaI', 'Nsfw411', 'wOrlDPacKS', 'celeBNsFw', 'aSIansgONeWILd', 'cOLleGeSLUtS', 'peTITeGonewilD', 'CumSlUTs', 'buStYPetIte', 'LEgaLtEEns', 'adORaBLepoRN', 'goneWIldSToRies', 'wAtChITfORTHePlOt', 'GOnewIldauDIo', 'TiPOFmyPenIS', 'brEedINGMateriAl', 'TRaPS', 'nSfWasMr', 'JiZzeDtoThiS', 'cuckOlD', 'OnLYFANsgiRLs101', 'MiLF', 'porN', 'TiktOKnsfw', 'PuSsy', 'GIRLSFinIsHINGThEjoB', 'worldPOLItICS', 'TIKTHoTS', 'sluTTYcOnFESSIONS', 'aSkREDdITAfteRdaRk', 'jeRKOFFToCelebS', 'TIttYDROP', 'goNEWILD30PluS', 'HOLDthEMoAn', 'InTERMITTeNTfaStING', 'oNoFF', 'onLyFANS101', 'BiggerThaNyouThOuGhT', 'HOTWife', 'bLoWJObS', 'gWcoUPles', 'lEaKEdOnLyfAns', 'KPOPfap', 'nsfWFUNNy', 'HENtAI_GiF', 'NUDe_SELFie', 'nsFW_GIfs', 'NaUgHtYWiveS', 'poRNinFIFTeeNSEcondS', 'strEamERSGONEWilD', 'YAGAmIyAto', 'fuTANaRI', 'jOI', 'HomEMAdExXx', 'TIKTOKPORn', 'PaWg', 'nUdES', 'MoRbiDreaLitY', 'MassIVecOckS', 'ASIanhOTTIeS', 'twiTCHgonewILD', 'ANAL', 'GONEwiLd18', 'juICyASiANS', 'TiNytITs', 'YoUTuBeTItTIES', '18_19', 'TiKtoKNude', 'BIgboObSGw', 'bIgaSSES', 'godpUSsy', 'nSFwVERiFIeDaMATeUR', 'lEWdGAMES', '18nsfw', 'tOOCUTefORpORn', 'tRaShYBoNERs', 'sex_CoMics', 'onlYfANSPACKS', 'PAlEgIrLs', 'xSmalLGIrLs', 'siSsYhyPNO', 'AmaTeur', 'FemBOYs', 'cHUBBY', 'nHenTaI', 'FiTGiRls', 'pOrNvids', 'FReEuSe', 'ASsHoLE', 'GONemIlD', 'YoUtuBersGoNEWiLD', 'cURVy', 'traphenTai', 'sTAcKe', 'SISsiES', 'wOrKgONEwILd', 'NsFWCYOa', 'BOdYPERFeCtIon', 'douJiNshI', 'YifF', 'SLut', 'THE_best_nSFw_gIfs', 'rulE34LOl', 'BDSMcOmMUnItY', 'sTUpIDsluTSClUb', 'OnlyFANsproMoTionS', 'NSFWHARDCOre', 'Bdsm', 'nSFWgAmIng', 'GoNEwiLDcOUPlES', 'bIGtidDYgoThGF', 'upsKIRt', 'aSSTastiC', 'ReaLAHegAO', 'GAYbrOsGoNewiLd', 'eLlekNOx', 'nSFwcospLAy', 'HugEbOOBs', 'HOnEySeLeCt', 'GwcumSluTS', 'nSFw_KoREA', 'assHoleGoneWILd', 'YOUNgPREttyHOEs', 'wouLDyoufuckMywiFE', 'paaG', 'cUTeLITTLebUtts', 'trANSFoRmaTIOn', 'geRMANCelEbrITIESfap', 'uNderWeARGW', 'TgirlS', 'lESbiAns', 'amATEUrcUmslutS', 'ThiCk', 'nORMAlnuDes', 'incESTcOmICs', 'DisCoRDnUdeS', 'cUrSedimaGeS', 'HentaibEAsT', 'laBiagw', 'GrOOL', 'onLyFANSPrOMosS', 'SeXTOyS', 'DirTypEnpalS', 'wHolEsomEhentAi', 'GIRlsINyOgAPantS', 'LATInAs', 'DIRTyr4', 'cZsKHOes', 'GenshinImpACtnsFW', 'REDGIFS', 'sExworkERS', 'EyEblEACH', 'BOndAGe', 'eBoNy', 'LipStHatGRIp', 'deEpthroat', 'RATEmyNUdebodY', 'GAYStorIesGoNewiLD', 'TWInks', 'ExxxtRAs', 'mONSteRgiRL', 'tHiGHdEOLogY', 'GWPuBliC', 'bdSmGW', 'hAirypUssy', 'gONEwiLDtRANs', 'pLastt', 'BbW', 'lAdyBoNerSgW', 'FreEAlbuM4u', 'DirTYsMall', 'ovErWatch_porn', 'sTrEetsiswAtChIn', 'anAlGW', 'NeEDySLUTs', 'iNdIANSGONEWIlD', 'RATeMYcOck', 'onlYfans_prOmO', 'dMT', 'cleaVaGE', 'ProGrEssIvEGRowtH', 'WIfEshARing', 'ColLEgEamateURs', 'BURSTInGOUT', 'BIMbofeTiSH', 'buttSAnDbAREFEET', 'medIcAlGOre', 'vamsCeNeS', 'extRamILE', 'amateuRgirlSbiGcOckS', 'FitnaKEdGIRlS', 'daRkjOkEs', 'funwIThfRIenDs', 'straIGHTgiRLsPlAyiNG', 'PENIs', 'HentaIcAptioNs', 'cUMfeTisH', 'alTGoNeWIlD', 'ShElIKEsItroUGh', 'ECChI', 'hOmeGrowNtITS', 'hUgEDiCkTInycHick', 'SexInFrOntoFOtHerS', 'giRLSwITHGlAsseS', 'COUPlEGONeWild', 'butTPLuG', 'RpDrdrAMa', 'GETTiNGherSELfoFf', 'hoLoLeWD', 'daMNgOODINTerRaciAL', 'FemdOm', 'NsFWraRe', 'mspUiYI', 'sEXytumMIes', 'GoNEwIlDcOlOr', 'gEnTleFEmdOM', 'hentaIMeMES', 'SLutBloNDe', 'IwAnTtoSucKcocK', 'GingeR', 'BbcSLuTs', 'OMeGLEseX', 'dKcElebS', 'QuIveR', 'RuLE34_COmics', 'fEET', 'inDianbAbEs', 'CHicKflixXX', 'fesTIVAlSlUTs', 'CREAmPIEs', 'HaRDBOdIEs', 'pReggOpoRn', '40plUSGonEwilD', 'BAddRagON', 'cAmslUts', 'swinGErSGw', 'stUFfeRs', 'SeXstORIeS', 'SlutSofonLYfaNs', 'TOmXconTenTS', 'TheRATIO', 'CHastITY', 'deGRADinGHolES','SExy', 'nsfW', 'NUdES', 'aSS', 'RULE34', 'BOOBS', 'GOnEwILd', 'RealGIrLS', 'HenTai', 'nSFw411', 'WOrlDPACKS', 'celEBNsfw', 'AsiANSgOneWiLd', 'COlLEGesLuts', 'pETiTEgonEwiLD', 'cUmsLuTS', 'BusTyPEtiTe', 'lEgALTeeNS', 'ADOraBLePORN', 'gOneWILDstORiES', 'watchitfORTHEplOT', 'gOneWilDAudIO', 'tIpOFmypEniS', 'BReEdInGMatErIal', 'TRAps', 'nsfWasmR', 'jiZzedtOtHiS', 'cucKOlD', 'oNLYFANsGiRls101', 'MiLf', 'pOrn', 'TIktokNsFw', 'PUsSy', 'GIrLsfinisHinGtHejoB', 'wOrLdPOlItiCs', 'tiktHOtS', 'sLuTTyCONFeSSiONs', 'asKrEdDItaftErdArk', 'jeRKoFFtOCElebs', 'tiTTydRoP', 'GOnEwild30Plus', 'HOLdThEmOan', 'interMiTteNTfaStiNg', 'onoFF', 'oNLyfans101', 'BiGGertHanYOUTHouGHt', 'HOtWIFe', 'blowjObS', 'gWcoUpLeS', 'LEAkEDOnlyFaNs', 'KpoPfap', 'NSFWfuNny', 'HeNTAI_GIf', 'nude_selfiE', 'nsFW_GIFs', 'naugHtyWIVeS', 'poRniNfiFteensecondS', 'STReAMErsGOneWiLD', 'YaGAmiyatO', 'fUTaNArI', 'JoI', 'homeMAdEXxX', 'tIkTOKpOrN', 'PawG', 'nudES', 'MoRBiDrEALItY', 'MaSSIVecoCKS', 'AsIanhotTIeS', 'tWiTCHgoNEwiLD', 'AnAL', 'goNeWILd18', 'JUICyaSIAns', 'tInYTitS', 'yOUtUBEtITTiES', '18_19', 'tIKTOKNuDe', 'bIGBoObsgW', 'bIGaSsES', 'godPussy', 'nSfwVERIFIedaMATeUR', 'LeWdGaMes', '18NSFW', 'TooCUtEFOrPoRn', 'tRAshYBOnErS', 'SEX_coMiCS', 'OnLyFANSpAcKs', 'pAlEgIrls', 'xSmALlGIRLS', 'siSsYHYpno', 'aMAteUr', 'feMBoYs', 'ChuBbY', 'NHeNtAI', 'FiTGiRLS', 'POrnVIDS', 'fREeuSE', 'aSshOLE', 'GoneMiLD', 'YOUTUBeRsGONEwILD', 'CUrvY', 'TraPhEntai', 'sTaCKE', 'SiSsIES', 'WorKgonEWild', 'nsFwCYOA', 'bODyPerFectIOn', 'DOUJINShI', 'yIFF', 'SLUt', 'The_BEST_NsFw_GIFS', 'RUle34LoL', 'bdsmCOMmuNIty', 'STuPidslutSCLuB', 'onlyfANsPROMOtIONS', 'NsfWHARdcore', 'bDsM', 'NSfWgAmInG', 'gonEwildcOuPLES', 'bIgTIdDyGoThgF', 'UpsKiRT', 'ASSTasTIC', 'REalAheGAo', 'gAybrOSGONeWIld', 'ELleKnOx', 'nSfwCosplaY', 'hUGEBOobS', 'hoNEySElECT', 'GwCUmSlutS', 'nsFW_koREA', 'ASSHolegonEwiLD', 'yOUNgpRETTYHoES', 'WOULDYOufuCKmyWiFe', 'PAAg', 'cutELITTlEBUTts', 'TrAnSFOrmatIoN', 'GErmAnCelEBriTiesFAp', 'undERWEarGw', 'TGIRLS', 'lEsBiaNS', 'amAteURcUMSluts', 'thiCk', 'nOrmaLnUdEs', 'inCeStCOmiCS', 'DisCOrDNUdes', 'cURSEdImaGeS', 'heNtaIbeaST', 'LABiaGW', 'GRoOl', 'ONlyfanSProMOss', 'SextOYS', 'DirtyPEnpAlS', 'WhOlESomEHeNTai', 'GIrLSINYoGapAnTS', 'LatInAs', 'DiRtyR4', 'CZskHoEs', 'GeNShiNiMpAcTNsFW', 'REDGIfS', 'sExworkerS', 'EyEBlEaCh', 'boNDAGe', 'EbonY', 'LipsTHaTGRIp', 'deePThROaT', 'rAtemyNudeBOdy', 'gAysTORIesgONewiLd', 'TwiNks', 'ExXXTras', 'MoNstErgirL', 'THiGhdeology', 'GwpuBLiC', 'BDSMgW', 'hAiRYpussy', 'GonEwiLdTRAnS', 'pLAStt', 'bbw', 'laDYboNErsGW', 'freeALBUM4u', 'DIRtYsmalL', 'oveRWAtCH_POrn', 'StrEetSisWATchIN', 'aNAlGw', 'NeedySlUts', 'INDIaNSgonEwIld', 'RAteMyCOck', 'ONlyFaNS_pROmO', 'DMt', 'cleAvage', 'ProgREssIvEgroWTh', 'wifEsHAring', 'cOlleGeAMAteurs', 'BurstIngoUt', 'BimBofEtiSh', 'bUttSaNdBarEFEET', 'mEDICaLgOrE', 'vamscenEs', 'extrAMilE', 'aMatEUrgirLSBiGcOcKs', 'FItNakedGiRLs', 'DarkJokes', 'fuNwIThfrIEnds', 'sTraightGirLSpLaYiNG', 'pEniS', 'hENtaiCAptIOns', 'cUMfETiSh', 'ALtGONeWiLD', 'shelikeSitrOUgH', 'eCchi', 'homEGrowNtitS', 'HuGedICKtinYChICk', 'sExiNfRonTOFoTHeRs', 'GiRLsWITHGLaSSes', 'COuplEgONewild', 'BUttpLuG', 'rpDRdrAma', 'gEtTINgheRSElFOfF', 'hoLOLEwD', 'dAMnGOOdintErrAciaL', 'FEMDom', 'NSFWRAre', 'MSpUIYi', 'sExYtumMiEs', 'GonEWildcOlOr', 'gEntLeFemDOm', 'HeNTAIMemeS', 'slUtBLondE', 'IWaNTTOSUcKCOck', 'GinGEr', 'bBCsLutS', 'oMeGLEsex', 'dkCelebs', 'QUIVEr', 'RuLE34_cOMiCS', 'fEET', 'iNdianBABES', 'CHiCKflixXX', 'FEsTivaLSlUtS', 'CReaMPIes', 'HardBODIES', 'PReggOpORn', '40PLUsGoNewiLd', 'BaDDRAgOn', 'CaMslUtS', 'swiNGERSGw', 'sTUffERS', 'seXSTOrIeS', 'SLUTsOFOnLyFANs', 'tOMxCoNtEnTS', 'THERaTIo', 'ChASTItY', 'DegRadinGHoLeS','SExY']

        # Block NSFW subs in nonâ€‘NSFW channels
        if subreddit.lower() in nsfw_list and not ctx.channel.is_nsfw():
            embed = discord.Embed(
                title="NSFW ONLY",
                description="This subreddit is NSFW. Use this command in an NSFW channel.",
                color=discord.Color.red()
            )
            return await ctx.send(embed=embed)

        # Fetch subreddit data
        data = await self.fetch_subreddit(subreddit)

        if not data:
            return await ctx.send("Could not fetch subreddit or it may not exist.")

        try:
            posts = data["data"]["children"]
            post = random.choice(posts)["data"]
        except Exception:
            return await ctx.send("Subreddit returned no usable posts.")

        title = post.get("title", "Untitled")
        image = post.get("url_overridden_by_dest") or post.get("url")
        sub = post.get("subreddit")

        embed = discord.Embed(
            title=f"Random post from r/{sub}",
            description=title,
            color=discord.Color.orange()
        )

        if image:
            embed.set_image(url=image)

        embed.set_footer(text=f"Requested by {ctx.author.name}")

        await ctx.send(embed=embed)

async def setup(bot):
    await bot.add_cog(RedditCog(bot))